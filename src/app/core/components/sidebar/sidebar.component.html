@if (isMobile()) {
<!-- Overlay de fondo oscuro cuando el menú móvil está abierto -->
@if (mobileMenuOpen()) {
<div class="mobile-menu-overlay" (click)="closeMobileMenu()" [attr.aria-hidden]="!mobileMenuOpen()">
</div>
}
}

<aside [class.collapsed]="collapsed()" [class.mobile-open]="isMobile() && mobileMenuOpen()"
  [class.mobile-closed]="isMobile() && !mobileMenuOpen()" class="sidebar" role="complementary"
  [attr.aria-label]="'Barra lateral de navegación'" [attr.aria-hidden]="isMobile() && !mobileMenuOpen()">
  <div class="sidebar-header">
    @if (!collapsed() || isMobile()) {
    <h2 class="sidebar-title">Management POS</h2>
    }
    @if (isMobile()) {
    <button type="button" (click)="toggleSidebar()" class="toggle-btn" [attr.aria-label]="'Cerrar menú'"
      [attr.aria-expanded]="mobileMenuOpen()">
      <i [class]="mobileMenuOpen() ? 'pi pi-times' : 'pi pi-bars'"></i>
    </button>
    }
  </div>
  <nav class="sidebar-nav" role="navigation" [attr.aria-label]="'Navegación principal'">
    <app-dynamic-menu></app-dynamic-menu>
  </nav>
</aside>