<div class="app-container" [class.dark-mode]="darkMode()">
  <app-sidebar [class.hidden]="!showSidebar()"></app-sidebar>
  <header class="app-header" [class.hidden]="!showSidebar()" [class.with-sidebar]="showSidebar()"
    [class.sidebar-collapsed]="showSidebar() && sidebarCollapsed()">
    <div class="header-left">
      <span class="system-name">{{ companyName() || 'Management POS' }}</span>
    </div>
    <div class="header-right">
      <span class="current-time">{{ currentTime() }}</span>
      <button type="button" class="btn-outline" (click)="goToDashboard()">Ver Operaciones</button>
      <button type="button" class="btn-toggle-theme" (click)="toggleDarkMode()"
        [attr.aria-label]="darkMode() ? 'Cambiar a modo claro' : 'Cambiar a modo oscuro'">
        {{ darkMode() ? '☀' : '☾' }}
      </button>
      <app-user-control></app-user-control>
    </div>
  </header>
  <div class="content-wrapper" [class.with-sidebar]="showSidebar()" [class.sidebar-collapsed]="sidebarCollapsed()">
    <main class="main-content">
      <router-outlet />
    </main>
  </div>
  <p-confirmDialog></p-confirmDialog>
  <p-toast></p-toast>
</div>